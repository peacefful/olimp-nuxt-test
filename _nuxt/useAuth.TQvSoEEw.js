import{t as i,v as l,a7 as h,W as _,l as k,q as r}from"./entry.DJLNJNwO.js";import{u as c}from"./cookie.CgwEJbi6.js";const m={__name:"Button",props:{color:String},setup(e){return(s,a)=>(i(),l("button",{class:_(["button",`button_${e.color}`])},[h(s.$slots,"default")],2))}},b=m,u=(e,s={})=>{const a=c("token").value,t=k().public.BASE_URL;return $fetch(e,{...s,baseURL:t,headers:{Authorization:`Bearer ${a}`}})},g=()=>({authorization:async t=>{try{const o=c("token"),n=await u("/auth/signin",{method:"POST",body:{...t}});n!=null&&n.access_token&&(o.value=n.access_token,r("/home"))}catch(o){console.log(o)}},refreshToken:async()=>{try{const t=c("token"),o=await u("/auth/refresh",{method:"POST",body:{access_token:t.value}});t.value=await o.access_token}catch(t){t.status===401&&r("/")}},logout:()=>r("/")});export{b as _,u as a,g as u};
