import{t as i,v as l,a7 as h,W as _,l as k,q as r}from"./entry.DX0wL5kp.js";import{u as c}from"./cookie.CQm0Ow4G.js";const m={__name:"Button",props:{color:String},setup(e){return(n,a)=>(i(),l("button",{class:_(["button",`button_${e.color}`])},[h(n.$slots,"default")],2))}},g=m,u=(e,n={})=>{const a=c("token").value,t=k().public.BASE_URL;return $fetch(`${t}${e}`,{...n,headers:{Authorization:`Bearer ${a}`}})},T=()=>({authorization:async t=>{try{const o=c("token"),s=await u("/auth/signin",{method:"POST",body:{...t}});s!=null&&s.access_token&&(o.value=s.access_token,r("/home"))}catch(o){console.log(o)}},refreshToken:async()=>{try{const t=c("token"),o=await u("/auth/refresh",{method:"POST",body:{access_token:t.value}});t.value=await o.access_token}catch(t){t.status===401&&r("/")}},logout:()=>r("/")});export{g as _,u as a,T as u};
